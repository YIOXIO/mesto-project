(()=>{"use strict";function e(e){e.classList.add("popup_opened"),e.addEventListener("click",r),document.addEventListener("keydown",n)}function t(e){e.classList.remove("popup_opened"),e.removeEventListener("click",r),document.removeEventListener("keydown",n)}function r(e){e.target===e.currentTarget&&t(e.target)}function n(e){"Escape"===e.key&&t(document.querySelector(".popup_opened"))}var o=document.querySelector(".card-template").content.querySelector(".card"),c=document.querySelector(".elements__cards");function a(t){c.prepend(function(t){var r=o.cloneNode(!0),n=r.querySelector(".card__image");return n.src=t.link,n.alt=t.name,r.querySelector(".card__name").textContent=t.name,r.querySelector(".card__trash").addEventListener("click",u),r.querySelector(".card__like").addEventListener("click",i),n.addEventListener("click",(function(){return r=t,e(s),L.src=r.link,L.alt=r.name,void(p.textContent=r.name);var r})),r}(t))}function u(e){e.target.closest(".card").remove()}function i(e){e.target.closest(".card__like").classList.toggle("card__like_active")}[{name:"Otherwise by Morcheeba",link:"https://avatars.yandex.net/get-music-content/33216/936f6bc8.a.154906-1/m1000x1000?webp=false"},{name:"Song of crickets by Parov Stelar",link:"https://is2-ssl.mzstatic.com/image/thumb/Music69/v4/72/6f/61/726f6198-a693-8049-6ca8-ff094c2be671/cover.jpg/1200x1200bf-60.jpg"},{name:"Eyesdown by Bonobo & Andreya Triana",link:"https://is1-ssl.mzstatic.com/image/thumb/Music/e1/72/ef/mzi.xhjloncl.jpg/1200x1200bf-60.jpg"},{name:"Web of Deception by Thievery Corporation",link:"https://is5-ssl.mzstatic.com/image/thumb/Music114/v4/aa/9f/f2/aa9ff27c-0525-8706-7b22-427b519b9db0/795103017726_Cover.jpg/1200x1200bf-60.jpg"},{name:"Boomerang by Gabin",link:"https://avatars.yandex.net/get-music-content/4010467/62a109c6.a.13223492-1/m1000x1000?webp=false"},{name:"Stoned and Alone by Findlay",link:"https://rocknfolk-cdn.respawn.fr/wp-content/uploads/2017/02/fpleasure.jpg"}].forEach(a);var l,s=document.querySelector(".popup_image-form"),p=s.querySelector(".popup__caption"),d=document.querySelector(".popup_profile-edit"),m=document.querySelector(".popup_profile-avatar"),f=document.querySelector(".profile__name"),_=document.querySelector(".profile__duty"),v=document.querySelector(".popup_new-place"),y=document.querySelector("#edit-form"),S=y.querySelector(".form__input_name"),b=y.querySelector(".form__input_duty"),q=document.querySelector("#card-form"),k=q.querySelector(".form__input_url"),g=q.querySelector(".form__input_place"),E=document.querySelector("#avatar-form"),L=document.querySelector(".popup__image"),C=E.querySelector(".form__input_avatar"),h=document.querySelector(".profile__avatar"),x=document.querySelector(".profile__edit-button"),w=document.querySelector(".profile__button"),j=document.querySelector(".profile__overlay"),A=d.querySelector(".popup__close-button_profile-edit"),B=v.querySelector(".popup__close-button_popup_new-place"),D=s.querySelector(".popup__close-button_popup_image"),M=m.querySelector(".popup__close-button_popup_avatar");function z(e,t,r){var n=function(e){return e.some((function(e){return!e.validity.valid}))}(e);t.classList.toggle(r.inactiveButtonClass,n),t.disabled=!1}j.addEventListener("click",(function(){e(m)})),E.addEventListener("submit",(function(e){e.preventDefault(),h.src=C.value,E.reset(),t(m)})),x.addEventListener("click",(function(){e(d),S.value=f.textContent,b.value=_.textContent})),y.addEventListener("submit",(function(e){e.preventDefault(),f.textContent="".concat(S.value),_.textContent="".concat(b.value),t(d)})),D.addEventListener("click",(function(){return t(s)})),B.addEventListener("click",(function(){return t(v)})),A.addEventListener("click",(function(){return t(d)})),M.addEventListener("click",(function(){return t(m)})),w.addEventListener("click",(function(){e(v)})),q.addEventListener("submit",(function(e){e.preventDefault();var r={};r.name=g.value,r.link=k.value,a(r),q.reset(),t(v)})),l={formSelector:".form",inputSelector:".form__input",submitButtonSelector:".form__submit",inactiveButtonClass:"form__submit_inactive",inputErrorClass:"form__input-error",errorClass:"form__input-error_active"},Array.from(document.querySelectorAll(l.formSelector)).forEach((function(e){e.addEventListener("submit",(function(e){return e.preventDefault()})),function(e,t){var r=Array.from(e.querySelectorAll(t.inputSelector)),n=e.querySelector(t.submitButtonSelector);z(r,n,t),e.addEventListener("reset",(function(){z(r,n,t)})),r.forEach((function(o){o.addEventListener("input",(function(){!function(e,t,r){t.validity.valid?function(e,t,r){var n=e.querySelector(".".concat(t.id,"-error"));t.classList.remove(r.inputErrorClass),n.classList.remove(r.errorClass),n.textContent=""}(e,t,r):function(e,t,r,n){var o=e.querySelector(".".concat(t.id,"-error"));t.classList.add(n.inputErrorClass),o.classList.add(n.errorClass),o.textContent=r}(e,t,t.validationMessage,r)}(e,o,t),z(r,n,t)}))}))}(e,l)}))})();